{% assign faces = site.data.grids[grid_key] %}

{% for face in faces %}
    {% cycle '<div class="row">', '' %}
        <div class="face-box span6">
            <div class="face angry">
                <img class="outline" src="/assets/img/face_angry{% cycle '3', '1', '2' %}.png" />

                {% capture key %}{{ face[0] }}{% endcapture %}
                {% assign release = site.data.releases[key] %}
                <a class="feature left-eye" style="width:100px;height:100px;" href="{{ release.url }}">
                <img class="feature left-eye" src="/assets/img/100x100_{{ release.cover }}" /></a>

                {% if face[1] %}
                    {% capture key %}{{ face[1] }}{% endcapture %}
                    {% assign release = site.data.releases[key] %}
                    <a class="feature right-eye" style="width:96px;height:96px;" href="{{ release.url }}">
                    <img class="feature right-eye" src="/assets/img/100x100_{{ release.cover }}" /></a>
                {% endif %}

                {% if face[2] %}
                    {% capture key %}{{ face[2] }}{% endcapture %}
                    {% assign release = site.data.releases[key] %}
                    <a class="feature mouth" style="width:75px;height:75px;" href="{{ release.url }}">
                    <img class="feature mouth" src="/assets/img/100x100_{{ release.cover }}" /></a>
                {% endif %}
            </div>
        </div>
    {% cycle '', '</div>' %}
{% endfor %}

{% assign remainder = faces.size | modulo:2 %}
{% if remainder != 0 %}
    </div>
{% endif %}